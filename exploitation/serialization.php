<?php
class Log
{
    public $filename = '';
    public $data = '';

    public function __construct()
    {
    $this->filename = '';
	$this->data = '';
    }

    public function PrintLog()
    {
        $pre = "[LOG]";
	$now = date('Y-m-d H:i:s');

        $str = '$pre - $now - $this->data';
        eval("\$str = \"$str\";");
        echo $str;
    }

    public function __destruct()
    {
	file_put_contents($this->filename, $this->data, FILE_APPEND);
    }


    public function set_filename($name) {
    	
	$this->filename = $name;
    }

    public function set_data($name) {
    	$this->data = $name;
    }

}

  
  $obj = new Log();
  $obj->set_filename("/var/www/html/serialize/yo_man.txt");
  $obj->set_data("data heyyy");


  $s = serialize($obj);

  file_put_contents('serialize_payload.txt', $s);



  $s = file_get_contents('serialize_payload.txt');
  $a = unserialize($s);

?>
